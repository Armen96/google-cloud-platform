<div class="upload-form">
  <ng-container *ngIf="multiple">
    <input hidden type="file" #uploader (change)="detectFiles($event)" multiple/>
    <button *ngIf="! isLoading" mat-flat-button color="primary" (click)="uploader.click()">{{label}}</button>

    <div class="loading" *ngIf="isLoading">
      <mat-progress-bar mode="query"></mat-progress-bar>
    </div>
  </ng-container>

  <ng-container *ngIf="! multiple">
    <input hidden type="file" #uploader (change)="detectFiles($event)"/>
    <button mat-flat-button color="primary" (click)="uploader.click()">{{label}}</button>
  </ng-container>
</div>
